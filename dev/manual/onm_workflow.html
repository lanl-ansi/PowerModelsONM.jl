<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>The ONM Workflow · PowerModelsONM</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">PowerModelsONM</a></span></div><form class="docs-search" action="../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Introduction</a></li><li><a class="tocitem" href="../installation.html">Installation Guide</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="quickguide.html">Getting Started</a></li><li class="is-active"><a class="tocitem" href="onm_workflow.html">The ONM Workflow</a><ul class="internal"><li><a class="tocitem" href="#Data-processing"><span>Data processing</span></a></li><li><a class="tocitem" href="#Optimal-Switching-Problem-(MLD)"><span>Optimal Switching Problem (MLD)</span></a></li><li><a class="tocitem" href="#Optimal-Dispatch-(OPF)"><span>Optimal Dispatch (OPF)</span></a></li><li><a class="tocitem" href="#Statistics"><span>Statistics</span></a></li></ul></li><li><a class="tocitem" href="mld_model.html">Optimal Switch / Load shed Mathematical Model</a></li><li><a class="tocitem" href="opf_model.html">Optimal Dispatch Mathematical Model</a></li><li><a class="tocitem" href="graphml_export.html">Exporting with GraphML</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/Beginners Guide.html">Beginners Guide</a></li><li><a class="tocitem" href="../tutorials/Block MLD Basic Example.html">Block MLD Basic Example</a></li><li><a class="tocitem" href="../tutorials/JuMP Model by Hand - MLD-Block.html">JuMP Model by Hand - MLD-Block Example</a></li><li><a class="tocitem" href="../tutorials/JuMP Model by Hand - MLD-scenario.html">JuMP Model by Hand - MLD-Block Scenario Example</a></li><li><a class="tocitem" href="../tutorials/Use Case Examples.html">Use Case Examples</a></li></ul></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../reference/base.html">Base functions</a></li><li><a class="tocitem" href="../reference/data.html">Data Handling</a></li><li><a class="tocitem" href="../reference/graphml.html">GraphML Functions</a></li><li><a class="tocitem" href="../reference/entrypoint.html">Main Entrypoint</a></li><li><a class="tocitem" href="../reference/internal.html">Internal Functions</a></li><li><a class="tocitem" href="../reference/io.html">IO Functions</a></li><li><a class="tocitem" href="../reference/logging.html">Logging</a></li><li><a class="tocitem" href="../reference/prob.html">Optimization Problems</a></li><li><a class="tocitem" href="../reference/stats.html">Solution Statistics</a></li><li><a class="tocitem" href="../reference/variable_constraint.html">Variables and Constraints</a></li><li><a class="tocitem" href="../reference/types.html">Types</a></li></ul></li><li><span class="tocitem">Schemas</span><ul><li><a class="tocitem" href="../schemas/output.schema.html">output.schema</a></li><li><a class="tocitem" href="../schemas/input-settings.schema.html">settings.schema</a></li><li><a class="tocitem" href="../schemas/input-events.schema.html">events.schema</a></li><li><a class="tocitem" href="../schemas/input-faults.schema.html">faults.schema</a></li><li><a class="tocitem" href="../schemas/input-runtime_arguments.schema.html">runtime-arguments.schema</a></li></ul></li><li><span class="tocitem">Developer Docs</span><ul><li><a class="tocitem" href="../developer/contributing.html">Contributing Guide</a></li><li><a class="tocitem" href="../developer/style.html">Style Guide</a></li><li><a class="tocitem" href="../developer/roadmap.html">Roadmap</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href="onm_workflow.html">The ONM Workflow</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="onm_workflow.html">The ONM Workflow</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lanl-ansi/PowerModelsONM.jl/blob/main/docs/src/manual/onm_workflow.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="ONM-Workflow"><a class="docs-heading-anchor" href="#ONM-Workflow">ONM Workflow</a><a id="ONM-Workflow-1"></a><a class="docs-heading-anchor-permalink" href="#ONM-Workflow" title="Permalink"></a></h1><p><img src="../assets/onm_process_flow_v4.png" alt="ONM Workflow Diagram"/></p><p>PowerModelsONM is designed to have a straightforward workflow for optimizing the operation and recovering of distribution feeders under contingencies.</p><p>In particular, the workflow consists of the following steps (see diagram above):</p><ol><li>Data processing and preparation</li><li>Solving an optimal switching (osw) / load shed (mld) problem</li><li>Solving an optimal dispatch (opf) problem using the optimal configurations</li><li>Statistical analysis of the combined solution</li></ol><p>In this document we outline essentials about each of these steps, but for full exploration of the practicalities, read the <a href="../tutorials/Beginners Guide.html#Introduction-to-PowerModelsONM">Introduction to PowerModelsONM Tutorial</a></p><h2 id="Data-processing"><a class="docs-heading-anchor" href="#Data-processing">Data processing</a><a id="Data-processing-1"></a><a class="docs-heading-anchor-permalink" href="#Data-processing" title="Permalink"></a></h2><p>At a minimum, PowerModelsONM requires a network file, in DSS format, with timeseries data (<em>e.g.</em>, LoadShapes). Without timeseries data, the ONM switching algorithm can still be utilized, but the Optimal Dispatch algorithm will error. For an example of an appropriate network definition, see our <a href="https://github.com/lanl-ansi/PowerModelsONM.jl/blob/main/test/data/ieee13_feeder.dss">modified IEEE13 feeder</a>.</p><p>There are several other supplementary files that can be included as well, of which the <a href="../schemas/input-events.schema.html#Events-Schema">events data</a> is the most important. This file defines the contingency, by either explicitly defining the switching actions, or by applying a fault to a particular asset (<em>i.e.</em>, a line).</p><p>Another useful file is the network <a href="../schemas/input-settings.schema.html#Settings-Schema">settings data</a>, which is used to define extra information about the network, <strong>not</strong> related to the timeseries, which cannot be expressed in the DSS format, such as bus voltage magnitude bounds, cold load pickup factors, voltage angle difference bounds, microgrid definitions, etc.</p><p>Finally, there are the two inputs for Stability Analysis and Fault Analysis, performed post optimization. For stability analysis, <a href="../schemas/input-inverters.schema.html#Inverters-Schema">inverters data</a> is required for the analysis to produce meaningful results (see, <a href="https://github.com/lanl-ansi/PowerModelsStability.jl">PowerModelsStability documentation</a>), but for fault analysis, although you can specify faults ahead of time via <a href="../schemas/input-faults.schema.html#Faults-Schema">fault data</a>, it is not necessary because if no faults are specified, a set of faults for analysis will be automatically generated. It should be noted however that a large number of faults will be generated automatically, which could incur serious time penalties in the completion of the algorithm. For more information, see <a href="https://github.com/lanl-ansi/PowerModelsProtection.jl">PowerModelsProtection documentation</a>.</p><h2 id="Optimal-Switching-Problem-(MLD)"><a class="docs-heading-anchor" href="#Optimal-Switching-Problem-(MLD)">Optimal Switching Problem (MLD)</a><a id="Optimal-Switching-Problem-(MLD)-1"></a><a class="docs-heading-anchor-permalink" href="#Optimal-Switching-Problem-(MLD)" title="Permalink"></a></h2><p>The optimal switching algorithm in ONM is an extension of the single-network MLD problem contained in PowerModelsDistribution, that takes into consideration certain engineering realities of distribution feeders.</p><p>First, it should be noted that because loads are most typically not individually controllable in distribution feeders, with a few notable exceptions, loads must largely be shed by isolating a load block with switching actions. A load block is defined as a block of buses which can be fully isolated from the grid by opening one or more <em>operable</em> switches.</p><p>To accomodate this reality, we can extended PowerModelsDistribution by adding the ability to assign single load status variables to a collection of loads (<em>i.e.</em>, by block), and adding constraints that isolate blocks of load that are desired to be shed to maintain operability of the rest of the grid.</p><p>Second, the optimal switching problem currently uses the LinDist3Flow model (<code>PowerModelsDistribution.LPUBFDiagModel</code>), which is a quadratic approximation, due to the presence of mixed integers.</p><p>Finally, the optimial switching problem currently solves sequentially, rather than globally over the entire multinetwork, which means switch configurations and storage energies are manually updated after each timestep is solved.</p><p>The mathematical formulation can be found <a href="mld_model.html#mld-math">here</a>.</p><h2 id="Optimal-Dispatch-(OPF)"><a class="docs-heading-anchor" href="#Optimal-Dispatch-(OPF)">Optimal Dispatch (OPF)</a><a id="Optimal-Dispatch-(OPF)-1"></a><a class="docs-heading-anchor-permalink" href="#Optimal-Dispatch-(OPF)" title="Permalink"></a></h2><p>Because the optimal switching is performed with a) a linear approximation, and b) sequentially, it is necessary to run a subsequent optimal dispatch solve on the resulting optimal configuration to ensure solution feasibility and accuracy.</p><p>This nonlinear AC OPF problem is a simple extension of the <a href="https://lanl-ansi.github.io/PowerModelsDistribution.jl/stable/manual/math-model.html#Unbalanced-AC-Optimal-Power-Flow">AC-OPF problem contained in PowerModelsDistribution</a>, a truncated version of which is reproduced <a href="opf_model.html#opf-math">here</a>.</p><h2 id="Statistics"><a class="docs-heading-anchor" href="#Statistics">Statistics</a><a id="Statistics-1"></a><a class="docs-heading-anchor-permalink" href="#Statistics" title="Permalink"></a></h2><p>After the optimizations have completed, ONM collects essential statistics for our default <a href="../schemas/output.schema.html#Output-Schema">output specification</a>. These include:</p><ul><li>a device action timeline, which contains an ordered list of the switch settings and loads shed at each timestep,</li><li>a list of switch changes, <em>i.e.</em>, switches whose state has changed from the previous timestep,</li><li>microgrid statistics, including<ul><li>minimum, mean, maximum voltages in per-unit representation at each timestep,</li><li>state of charge of all energy storage at each timestep,</li><li>details of load served in percent, <em>i.e.</em>, how much load is supported by the feeder (substation/grid), how much by microgrids, and how much extra load are the microgrids supporting,</li><li>details of the sources of generation in kW, <em>i.e.</em>, how much power is coming from the grid, solar, energy storage, or traditional deisel generation, and</li></ul></li><li>generation dispatch setpoints, both real and reactive.</li></ul><p>If small signal stability analysis is performed, an ordered list of whether the configuration at each timestep is small signal stable is available.</p><p>Finally, if fault analysis is performed, an ordered list of fault analysis results at each timestep is given, which includes,</p><ul><li>the fault susceptance / conductance,</li><li>both the unbalanced and symmetric (sequence) fault currents at each protection device, and</li><li>the voltage magnitude at each protection device.</li></ul><p>Full details of what is included in the output can be found in the schema files.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="quickguide.html">« Getting Started</a><a class="docs-footer-nextpage" href="mld_model.html">Optimal Switch / Load shed Mathematical Model »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 1 September 2023 14:24">Friday 1 September 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
